<script lang="ts">
  import { slide } from "svelte/transition";

  import heroImgSm from "$lib/assets/hero-small.jpg";
  import heroImgMd from "$lib/assets/hero-medium.jpg";
  import heroImgLg from "$lib/assets/hero-large.jpg";

  import FeatureCard from "$lib/components/pages/main/featureCard.svelte";
  import Modals from "$lib/components/modals.svelte";
  import GetCert from "$lib/components/modals/getCert.svelte";

  import "$lib/api_variables";

  let isGetCertModalShown: boolean = $state(false);

  const dismissModal = () => {
    isGetCertModalShown = false;
  };
</script>

<svelte:head>
  <title>–ì–æ–ª–æ–≤–Ω–∞ ‚Äî –ê—Å–æ—Ü—ñ–∞—Ü—ñ—è –ø—É–ø—Å—ñ–∫—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏</title>
</svelte:head>

<Modals show={ isGetCertModalShown } transparent={ false } onclick={ dismissModal }>
  {#if isGetCertModalShown}
    <GetCert />
  {/if}
</Modals>

<main class="sm:px-20 px-3 pb-10" transition:slide>
  <header 
    style={`--h-sm:url(${JSON.stringify(heroImgSm)});--h-md:url(${JSON.stringify(heroImgMd)});--h-lg:url(${JSON.stringify(heroImgLg)});`}
    class="h-[300px] mb-12 bg-center bg-cover rounded-xl"
  >
    <div class="w-full h-full flex flex-col gap-2 justify-center items-center backdrop-blur-sm rounded-xl">
      <a class="button-primary flex flex-row items-center gap-1" href="/become">
        <span>–°—Ç–∞—Ç–∏ –ø—É–ø—Å—ñ–∫–æ–º –≤–∂–µ —Å—å–æ–≥–æ–¥–Ω—ñ</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
        </svg>
      </a>
      <button class="button" onclick={ () => { isGetCertModalShown = true; } }>–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—É–ø—Å—ñ–∫–∞</button>
    </div>
  </header>

  <section class="mb-10">
    <h1 class="font-unbounded mb-3">–©–æ —Ü–µ?</h1>
    <p>–ê—Å–æ—Ü—ñ–∞—Ü—ñ—è –ø—É–ø—Å—ñ–∫—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏ (–ê–ü–£) ‚Äî –ø–æ—Ä—Ç–∞–ª –í—Å–µ—É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –≥—Ä–æ–º–∞–¥—Å—å–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó "–ê—Å–æ—Ü—ñ–∞—Ü—ñ—è –ü—É–ø—Å–∏–∫—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏". –ù–∞—à–∞ –º—ñ—Å—ñ—è ‚Äî –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –≤—Å—ñ—Ö –ø—É–ø—Å—ñ–∫—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏.</p>
  </section>

  <section>
    <h1 class="font-unbounded mb-3">–ß–æ–º—É —Å–ª—ñ–¥ –≤–∏–±—Ä–∞—Ç–∏ –Ω–∞—Å?</h1>
    <p class="mb-2">–ê–ü–£ —î–¥–∏–Ω–∞ –≤ —Å–≤–æ—î–º—É —Ä–æ–¥—ñ —ñ –º–∞—î –±–∞–≥–∞—Ç–æ –∫–ª—é—á–æ–≤–∏—Ö –ø–µ—Ä–µ–≤–∞–≥. –û—Å—å –¥–µ—è–∫—ñ –∑ –Ω–∏—Ö:</p>
    <div class="w-full flex flex-col sm:flex-row gap-2">
      <FeatureCard title="‚è≥ –®–≤–∏–¥–∫–æ" text="–û—Ç—Ä–∏–º—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –º–µ–Ω—à–µ –Ω—ñ–∂ –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω." />
      <FeatureCard title="üíΩ –í–µ–ª–∏–∫–∞ –±–∞–∑–∞" text="–ù–∞—à–∞ –±–∞–∑–∞ –≤–∂–µ –º–∞—î 0 –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –ø—É–ø—Å—ñ–∫—ñ–≤!" />
      <FeatureCard title="üîí –ù–∞–¥—ñ–π–Ω–æ" text="–î–∞–Ω—ñ –∑ –±–∞–∑–∏ –∑–Ω–∏–∫–Ω—É—Ç—å –ª–∏—à–µ —è–∫—â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è —â–æ—Å—å –ø–æ–≥–∞–Ω–µ!" />
    </div>
  </section>
</main>

<style>
  header {
    background-image: var(--h-sm);
  }

  @media (min-width: calc(640px + 100px)) {
    header {
      background-image: var(--h-md);
    }
  }

  @media (min-width: calc(1920px + 100px)) {
    header {
      background-image: var(--h-lg);
    }
  }
</style>
